import{A as M,B as C,e as v,C as w,D as I,l as O,E as W,G as h}from"./BwvHmMJY.js";function D(e){return M()?(C(e),!0):!1}const E=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const G=e=>e!=null,u=()=>{};function k(e){return Array.isArray(e)?e:[e]}const x=E?window:void 0;function a(e){var n;const o=h(e);return(n=o==null?void 0:o.$el)!=null?n:o}function B(){const e=w(!1),n=W();return n&&O(()=>{e.value=!0},n),e}function _(e){const n=B();return v(()=>(n.value,!!e()))}function R(e,n,o={}){const{root:m,rootMargin:b="0px",threshold:y=0,window:i=x,immediate:c=!0}=o,l=_(()=>i&&"IntersectionObserver"in i),S=v(()=>{const s=h(e);return k(s).map(a).filter(G)});let r=u;const t=w(c),g=l.value?I(()=>[S.value,a(m),t.value],([s,A])=>{if(r(),!t.value||!s.length)return;const p=new IntersectionObserver(n,{root:a(A),rootMargin:b,threshold:y});s.forEach(d=>d&&p.observe(d)),r=()=>{p.disconnect(),r=u}},{immediate:c,flush:"post"}):u,f=()=>{r(),g(),t.value=!1};return D(f),{isSupported:l,isActive:t,pause(){r(),t.value=!1},resume(){t.value=!0},stop:f}}export{R as u};
